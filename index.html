<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>墨殇的技术博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="墨殇的技术博客，本站由墨殇(InkDP)基于Hexo搭建，运行在GitHub上，主要用于记录个人技术成长、读书笔记、日常总结与吐槽">
<meta property="og:type" content="website">
<meta property="og:title" content="墨殇的技术博客">
<meta property="og:url" content="https://hexo.inkdp.cn/index.html">
<meta property="og:site_name" content="墨殇的技术博客">
<meta property="og:description" content="墨殇的技术博客，本站由墨殇(InkDP)基于Hexo搭建，运行在GitHub上，主要用于记录个人技术成长、读书笔记、日常总结与吐槽">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="InkDP">
<meta property="article:tag" content="墨殇的技术博客,墨殇,InkDP,inkdp,技术博客">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="墨殇的技术博客" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">墨殇的技术博客</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS 订阅"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://hexo.inkdp.cn"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-posts-202101-2021-01-09-如何读一本书" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/reading/38859.html" class="article-date">
  <time class="dt-published" datetime="2021-01-08T16:46:38.000Z" itemprop="datePublished">2021-01-09</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/reading/">阅读</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/reading/38859.html">如何读一本书</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><img src="https://cdn.jsdelivr.net/gh/inkdp/CDN@main/img/%E3%80%8A%E5%A6%82%E4%BD%95%E9%98%85%E8%AF%BB%E4%B8%80%E6%9C%AC%E4%B9%A6%E3%80%8B.svg"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://hexo.inkdp.cn/reading/38859.html" data-id="ckjtnpjmy003k09l98qc5hn89" data-title="如何读一本书" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/study-notes/" rel="tag">读书笔记</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-posts-202012-2020年个人总结" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020.html" class="article-date">
  <time class="dt-published" datetime="2020-12-29T15:30:49.000Z" itemprop="datePublished">2020-12-29</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/essays/">随笔</a>►<a class="article-category-link" href="/categories/essays/summary/">总结</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020.html">2020年个人总结</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><ul>
<li><a target="_blank" rel="noopener" href="https://inkdp.cn/2019.html">2019年总结</a></li>
</ul>
<p>&emsp;&emsp;不知不觉间，一年又这么过去了，每到了这个时候总会去感慨一年过得是那么快，今年虽然因为疫情的原因，但是感觉自己过得还算很精彩，今年也依旧发生了很多故事，前半年比较平淡，疫情后就正常上班下班，下半年比较刺激，离开了广州，辗转反侧了几个城市，一边看路边的风景，一边找工作，历时三个月，最后回到了重庆，在曾经的大学附近找到了一份自己满意的工作并安定下来。</p>
<h3 id="时间轴"><a href="#时间轴" class="headerlink" title="时间轴"></a>时间轴</h3><ul>
<li>1月17日：下班后直奔姑姑家，准备第二天坐车回家</li>
<li>1月18日：启程回家</li>
<li>1月20日：回到阔别半年的家乡，倍感亲切</li>
<li>2月21日：疫情解封，返程广州</li>
<li>2月26日：返岗上班</li>
<li>6月23日：学校发放毕业证，终于毕业</li>
<li>6月25日：搬家去公司附近</li>
<li>8月7日：离职，准备回重庆</li>
<li>8月13日：结束单身，回到云阳</li>
<li>8月18日：去重庆，开始找工作</li>
<li>9月13日：前往成都</li>
<li>9月24日：回到重庆，回家过国庆</li>
<li>10月5日：再回广州</li>
<li>10月9日：飞往杭州，与女友分手</li>
<li>10月24日：再回重庆，结束流浪</li>
<li>11月1日：师父生日上，遇到她</li>
<li>11月3日：再次结束单身，与她在一起</li>
<li>11月13日：找到理想工作工作</li>
<li>11月15日：时隔三个月，再次开始上班</li>
</ul>
<h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><p>&emsp;&emsp;1月15日参加了公司年会，基本宣布一年的结束，开始想着家里的种种，因为也已经确定了回家的时间，所以剩下的几天基本是煎熬。17日一下班就直接奔去我姑姑家，第二天和姑姑姑父一起自驾回家，过程十分煎熬，坐了快30个小时的私家车真的好累。</p>
<p>&emsp;&emsp;20日的中午才真正回了家，到家换了身衣服就直接走了，去了县城和朋友聚会，顺便找找曾经的回忆，可惜学校不让进去，比较可惜。晚饭后，想着学读书时一样去网吧通宵，第二天一早直接回家，可惜已不复当初，好像已经老了，在网吧困得要死。</p>
<p>&emsp;&emsp;随后就是席卷全国的疫情，回家早而且远在农村，对我的影响还是比较小，天天在家玩，还有工资拿。疫情不那么严重后，2月底左右就回了广州，在广州自己家里呆了一周后就开始复工了。</p>
<p>&emsp;&emsp;劳动节前后与前女友联系了两次(此时应该是前前女友了)，那一段四年多的青春也随着她离开了。</p>
<p>&emsp;&emsp;上半年比较开心的是，6月底左右经历了几次大起大落，最终黄天不负有心人，终于拿到了毕业证，虽然它迟来了一个月，但是还是拿到了。大学最好的死党，也从北京来到广州，不再是一个孤单的待在广州，平时出去玩也有人约，还是比较开心。</p>
<p>&emsp;&emsp;因为到广州也已经一年有余，所以在6月最后几天，搬去了公司附近，走路上班，再也不用挤地铁公交的日子非常舒服。置办了锅碗瓢盆，早中晚都自己做饭，把开支节省到最大，开始存钱。</p>
<p>&emsp;&emsp;8月初的时候，因为一些些乱七八糟的事情，最终决定回重庆。离职退租一气呵成，8月13日一早的飞机就从广州飞到了万州，中午吃上了奶奶做的午饭，好香。在离开广州之际，我结束了单身，决定做的有些冲动，但是还是想试试，事后证明确实不能太冲动。</p>
<p>&emsp;在家陪伴了一段时间爷爷奶奶，就上重庆，开始边玩边找工作，回来时对重庆的互联网环境有所预估，但是还是比我想的要难很多，半玩半找的状态持续了一个月左右，我把目光看向了隔壁成都。9月13日，帮兄弟搬完家后，晚上去了成都。</p>
<p>&emsp;&emsp;成都的机会相对于重庆来说，确实多太多了，也找到了算是不错的公司，但是细算下来，成都其实不那么理想，不是太高的工资，却有比肩一线城市的消费，思前考后后还是决定离开成都，再去外面看看，可能是再回广州，也可能是去北京上海看看，国庆将至，所幸回家过国庆去。</p>
<p>&emsp;&emsp;10月5日的时候再次回到广州，待了几天后发现自己也是特别想待在广州，因为国庆的时候遇到了杭州的同学，被杭州的互联网环境和一系列政策吸引，决定去看看。</p>
<p>&emsp;&emsp;10月9日一张机票将我带往杭州，因为之前脱单时考虑不周，在离开广州时我选择了与女友分手。找了个临时居住的小房间，专心找工作，后面就是投简历面试。因为之前工作的原因，所以小公司基本上是手到擒来，但是大一点的公司就全黄了，小公司我又不想去，折腾了两周，也拿到了不错的一些offer，薪资待遇也都比上一份工作好，但是都不是特别满意，最终还是决定回重庆。</p>
<p>&emsp;&emsp;10月24日，去西湖划了船，去爬了雷峰塔，晚上一列火车将我拉回了重庆，当时的想法是哪怕回去送外卖进厂也不出来了。回重庆后就开始投简历，准备面试，比较意外的是居然收到了腾讯的面试邀请(虽然后面黄了)。</p>
<p>&emsp;&emsp;11月1日，师父60岁生日，吃饭的时候遇到了一个大三的小学妹，她是那么活泼可爱，那肆无忌惮的笑声是多么迷人，短暂的接触就让我沦陷之深。慢慢接触后发现彼此都有意思，没有特别复杂的追求，两天的彻夜长谈后，11月3日，我们在一起了。</p>
<p>&emsp;&emsp;后面的日子就是一边找工作和抽空去学校陪她，也许是她带来的好运，后面的面试也变得顺利起来，最后在学校附近找到了满意的工作，随后的日子就是上班下班，抽空去学校陪女朋友。</p>
<h3 id="简述"><a href="#简述" class="headerlink" title="简述"></a>简述</h3><p>&emsp;&emsp;一年的时间过的好快，因为中途折腾了三个月没上班，所以今年还是没存到钱，但是比较幸运的是遇到了我现在的女友，明年会更好的。</p>
<h4 id="观影"><a href="#观影" class="headerlink" title="观影"></a>观影</h4><ul>
<li><p>《误杀》</p>
</li>
<li><p>《叶问4》</p>
</li>
<li><p>《无底破坏王》</p>
</li>
<li><p>《剑雨》</p>
</li>
<li><p>《陆垚知马俐》</p>
</li>
<li><p>《半个喜剧》</p>
</li>
<li><p>《一句顶一万句》</p>
</li>
<li><p>《我们永不言弃》</p>
</li>
<li><p>《风雨同路》</p>
</li>
<li><p>《极线杀手》</p>
</li>
<li><p>《我说的都是真的》</p>
</li>
<li><p>《安德的游戏》</p>
</li>
<li><p>《破风》</p>
</li>
<li><p>《意外》</p>
</li>
<li><p>《毒战》</p>
</li>
<li><p>《扑克王》</p>
</li>
<li><p>《邪不压正》</p>
</li>
<li><p>《神偷大师》</p>
</li>
<li><p>《肖申克的救赎》</p>
</li>
<li><p>《史密斯夫妇》</p>
</li>
<li><p>《超人总动员》</p>
</li>
<li><p>《超人总动员2》</p>
</li>
<li><p>《X特遣队》</p>
</li>
<li><p>《嗜血战士》</p>
</li>
<li><p>《姜子牙》</p>
<p>后面的都是和女朋友一起看的了，哈哈哈哈</p>
</li>
<li><p>《我和我的家乡》</p>
</li>
<li><p>《金刚川》</p>
</li>
<li><p>《风平浪静》</p>
</li>
<li><p>《如果声音不记得》</p>
</li>
<li><p>《神奇女侠1984》</p>
</li>
<li><p>《钢铁侠》</p>
</li>
<li><p>《惊奇队长》</p>
</li>
<li><p>《神奇女侠》</p>
</li>
</ul>
<h4 id="阅读"><a href="#阅读" class="headerlink" title="阅读"></a>阅读</h4><p>&emsp;&emsp;去年参加了社区的活动，有幸获奖，所以今年一次性读了4本实体书，后面因为乱七八糟的到处跑，所以今年反而没怎么看书，但是还是看了一些书。</p>
<ul>
<li>《你只是看起来很努力》</li>
<li>《喜宝》</li>
<li>《三体》</li>
<li>《三体II：黑暗森林》</li>
<li>《三体III：死神永生》</li>
<li>《边城》</li>
<li>《湘行散记》</li>
<li>《从文自传》</li>
<li>《长河》</li>
<li>《梦里花落知多少》</li>
<li>《我这一辈子：老舍自传》</li>
<li>《我不是潘金莲》</li>
<li>《玛格丽小镇》</li>
</ul>
<h4 id="游戏"><a href="#游戏" class="headerlink" title="游戏"></a>游戏</h4><p>&emsp;&emsp;今年一年没怎么买新的游戏，switch吃灰了好久，最近又捡起来开始玩，跟女友在一起后，居然神奇的一次LOL都没打过。</p>
<ul>
<li>LOL(基本上弃坑)</li>
<li>剑网三(已经A了)</li>
<li>塞尔达传说(还是没有通关，大师模式过段时间开开荒)</li>
<li>动物森友会(事实证明这个游戏不适合猛男)</li>
</ul>
<h4 id="学习"><a href="#学习" class="headerlink" title="学习"></a>学习</h4><p>&emsp;&emsp;前面三个月的找工作经历让我深刻地意识到了自己的不足，所以已经制定了相对完善的学习计划，正在稳步执行中。</p>
<h4 id="生活"><a href="#生活" class="headerlink" title="生活"></a>生活</h4><p>&emsp;&emsp;现在每天就上班下班，没事去学校陪陪女朋友，过得比较舒适，比较重要的事情就是减肥，因为啤酒肚已经被女友嫌弃了很多次了，希望可以减下来。</p>
<h3 id="Flag"><a href="#Flag" class="headerlink" title="Flag"></a>Flag</h3><h4 id="2020年完成情况"><a href="#2020年完成情况" class="headerlink" title="2020年完成情况"></a>2020年完成情况</h4><ul>
<li><input checked="" disabled="" type="checkbox"> 不再爱秀爱炫耀(明显改善)</li>
<li><input checked="" disabled="" type="checkbox"> 不再攀比(明显改善)</li>
<li><input checked="" disabled="" type="checkbox"> 不再傲慢、骄傲、急躁(明显改善)</li>
<li><input checked="" disabled="" type="checkbox"> 多一点耐心(感觉好了一些)</li>
<li><input disabled="" type="checkbox"> 存一笔钱(没做到，穷啊)</li>
<li><input disabled="" type="checkbox"> 独自完成一次旅游，国外最好(今年这情况，完成不了)</li>
<li><input checked="" disabled="" type="checkbox"> 英语过级，拿到毕业证</li>
<li><input disabled="" type="checkbox"> 每周做适量运动，想去跑马拉松，不行就买个健身环玩玩😉😉(上半年坚持了一段时间)</li>
</ul>
<h4 id="2021"><a href="#2021" class="headerlink" title="2021"></a>2021</h4><ul>
<li><input disabled="" type="checkbox"> 带着幺儿出去玩，至少一次</li>
<li><input disabled="" type="checkbox"> 更宠，更疼，更爱我的傻幺儿</li>
<li><input disabled="" type="checkbox"> 存一笔钱</li>
<li><input disabled="" type="checkbox"> 减肥，消灭啤酒肚，120斤</li>
<li><input disabled="" type="checkbox"> 完成自己制定的学习目标</li>
<li><input disabled="" type="checkbox"> 读20本书，其中5本左右实体</li>
<li><input disabled="" type="checkbox"> 更自律，做更好的自己</li>
</ul>
<h3 id="彩蛋环节"><a href="#彩蛋环节" class="headerlink" title="彩蛋环节"></a>彩蛋环节</h3><p>&emsp;&emsp;附上第一次和我家幺儿出去玩的自拍(女友觉得太丑了，就换了张)，希望大家新的一年都找到自己心中的那个她，升职加薪！！！<br><img src="https://cdn.jsdelivr.net/gh/inkdp/CDN@main/img/image-0b682626.png" alt="image.png"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://hexo.inkdp.cn/2020.html" data-id="ckjtnpjmv003d09l94ue69p30" data-title="2020年个人总结" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/about-me/" rel="tag">关于我</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/summary/" rel="tag">总结</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/essay/" rel="tag">随笔</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-posts-202012-Leetcode-数组系列1" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/leetcode_array1.html" class="article-date">
  <time class="dt-published" datetime="2020-12-07T07:29:30.000Z" itemprop="datePublished">2020-12-07</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/skill/">技术</a>►<a class="article-category-link" href="/categories/skill/algorithm/">算法</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/leetcode_array1.html">leetcode-数组系列1</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="169-多数元素"><a href="#169-多数元素" class="headerlink" title="169.多数元素"></a>169.多数元素</h3><p><img src="https://cdn.jsdelivr.net/gh/inkdp/CDN@main/img/image-7f596c4b.png" alt="image.png"></p>
<h4 id="解题思路："><a href="#解题思路：" class="headerlink" title="解题思路："></a>解题思路：</h4><ol>
<li>利用哈希表存储每个字符出现的个数，出现次数大于<code>n/2</code>的即为多数元素</li>
<li>根据题意，多数元素的个数大于<code>n/2</code>，每次遇到多数元素就将个数+1，否则减一，值为负数时则证明当前选取的这个数不是多数元素，则更换多数元素继续循环(摩尔投票法)<br><img src="https://cdn.jsdelivr.net/gh/inkdp/CDN@main/img/image-022d2db7.png" alt="image.png"><br>上图来着，题169解解<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/majority-element/solution/3chong-fang-fa-by-gfu-2">摩尔投票法</a></li>
<li>排序，取下标为<code>len(nums)/2</code>的值</li>
</ol>
<h4 id="示例代码："><a href="#示例代码：" class="headerlink" title="示例代码："></a>示例代码：</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// map解法</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">majorityElement</span><span class="params">(nums []<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">	mapArr := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">int</span>)</span><br><span class="line">	<span class="keyword">for</span> _, v := <span class="keyword">range</span> nums &#123;</span><br><span class="line">		<span class="keyword">if</span> _, ok := mapArr[v]; !ok &#123;</span><br><span class="line">			mapArr[v] = <span class="number">1</span></span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			mapArr[v]++</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> k, v := <span class="keyword">range</span> mapArr &#123;</span><br><span class="line">		<span class="keyword">if</span> v &gt; <span class="built_in">len</span>(nums)/<span class="number">2</span> &#123;</span><br><span class="line">			<span class="keyword">return</span> k</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">majorityElement0</span><span class="params">(nums []<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">	mapArr := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">int</span>)</span><br><span class="line">	<span class="keyword">for</span> _,v := <span class="keyword">range</span> nums&#123;</span><br><span class="line">		mapArr[v] ++</span><br><span class="line">		<span class="keyword">if</span> mapArr[v] &gt; <span class="built_in">len</span>(nums)/<span class="number">2</span>&#123;</span><br><span class="line">			<span class="keyword">return</span> v</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 题目中保证了众数出现次数多余一半,所以遇到众数+1,非众数-1的最终结果始终大于1</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">majorityElement1</span><span class="params">(nums []<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">	count, repeat := <span class="number">0</span>, nums[<span class="number">0</span>]</span><br><span class="line">	<span class="keyword">for</span> k, v := <span class="keyword">range</span> nums &#123;</span><br><span class="line">		<span class="keyword">if</span> v == repeat &#123;</span><br><span class="line">			count++</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			count--</span><br><span class="line">			<span class="keyword">if</span> count == <span class="number">0</span> &amp;&amp; k&lt;<span class="built_in">len</span>(nums) &#123;</span><br><span class="line">				repeat = nums[k+<span class="number">1</span>]</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> repeat</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 先排序直接找 len/2的数</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">majorityElement2</span><span class="params">(nums []<span class="keyword">int</span>)</span> <span class="title">int</span></span>&#123;</span><br><span class="line">	sort.Ints(nums)</span><br><span class="line">	<span class="keyword">return</span> nums[<span class="built_in">len</span>(nums)/<span class="number">2</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="217-多数元素"><a href="#217-多数元素" class="headerlink" title="217.多数元素"></a>217.多数元素</h3><p><img src="https://cdn.jsdelivr.net/gh/inkdp/CDN@main/img/image-3291f9c1.png" alt="image.png"></p>
<h4 id="解题思路：-1"><a href="#解题思路：-1" class="headerlink" title="解题思路："></a>解题思路：</h4><ol>
<li>哈希表</li>
</ol>
<h4 id="示例代码"><a href="#示例代码" class="headerlink" title="示例代码:"></a>示例代码:</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">containsDuplicate</span><span class="params">(nums []<span class="keyword">int</span>)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">	mapArr := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">bool</span>)</span><br><span class="line">	<span class="keyword">for</span> _, v := <span class="keyword">range</span> nums &#123;</span><br><span class="line">		<span class="keyword">if</span> mapArr[v] &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">		&#125;</span><br><span class="line">		mapArr[v] = <span class="literal">true</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="219-存在重复元素-II"><a href="#219-存在重复元素-II" class="headerlink" title="219. 存在重复元素 II"></a>219. 存在重复元素 II</h3><p><img src="https://cdn.jsdelivr.net/gh/inkdp/CDN@main/img/image-b7080722.png" alt="image.png"></p>
<h4 id="解题思路：-2"><a href="#解题思路：-2" class="headerlink" title="解题思路："></a>解题思路：</h4><ol>
<li>哈希表，不存在则存入，存在这判断两个下标之间的差值是否小于k</li>
</ol>
<h4 id="示例代码：-1"><a href="#示例代码：-1" class="headerlink" title="示例代码："></a>示例代码：</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">containsNearbyDuplicate</span><span class="params">(nums []<span class="keyword">int</span>, k <span class="keyword">int</span>)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">	mapArr := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">int</span>)</span><br><span class="line">	<span class="keyword">for</span> key, val := <span class="keyword">range</span> nums &#123;</span><br><span class="line">		<span class="keyword">if</span> v, ok := mapArr[val]; ok &#123;</span><br><span class="line">			<span class="keyword">if</span> key-v &lt;= k &#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		mapArr[val] = key</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="228-汇总区间"><a href="#228-汇总区间" class="headerlink" title="228. 汇总区间"></a>228. 汇总区间</h3><p><img src="https://cdn.jsdelivr.net/gh/inkdp/CDN@main/img/image-071d61e0.png" alt="image.png"></p>
<h4 id="解题思路：-3"><a href="#解题思路：-3" class="headerlink" title="解题思路："></a>解题思路：</h4><ol>
<li>判断相邻元素差值是否为1，不分1则处于下一个区间，注意处理最后一个元素</li>
</ol>
<h4 id="示例代码：-2"><a href="#示例代码：-2" class="headerlink" title="示例代码："></a>示例代码：</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">summaryRanges</span><span class="params">(nums []<span class="keyword">int</span>)</span> []<span class="title">string</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> rStr []<span class="keyword">string</span></span><br><span class="line">	<span class="keyword">if</span> <span class="built_in">len</span>(nums) == <span class="number">0</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> rStr</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">var</span> head, tail <span class="keyword">int</span></span><br><span class="line">	head, tail = nums[<span class="number">0</span>], nums[<span class="number">0</span>]</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">1</span>; i &lt; <span class="built_in">len</span>(nums); i++ &#123;</span><br><span class="line">		<span class="keyword">if</span> nums[i] != tail+<span class="number">1</span> &#123;</span><br><span class="line">			<span class="keyword">if</span> head == tail &#123;</span><br><span class="line">				rStr = <span class="built_in">append</span>(rStr, strconv.Itoa(head))</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				rStr = <span class="built_in">append</span>(rStr, strconv.Itoa(head)+<span class="string">&quot;-&gt;&quot;</span>+strconv.Itoa(tail))</span><br><span class="line">			&#125;</span><br><span class="line">			head = nums[i]</span><br><span class="line">			tail = nums[i]</span><br><span class="line">		&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"></span><br><span class="line">			tail = nums[i]</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> head == tail &#123;</span><br><span class="line">		rStr = <span class="built_in">append</span>(rStr, strconv.Itoa(head))</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		rStr = <span class="built_in">append</span>(rStr, strconv.Itoa(head)+<span class="string">&quot;-&gt;&quot;</span>+strconv.Itoa(tail))</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> rStr</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">summaryRanges1</span><span class="params">(nums []<span class="keyword">int</span>)</span> []<span class="title">string</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> rStr []<span class="keyword">string</span></span><br><span class="line">	<span class="keyword">for</span> i,j :=<span class="number">0</span>,<span class="number">0</span>; j&lt;<span class="built_in">len</span>(nums);&#123;</span><br><span class="line">		<span class="keyword">if</span> j+<span class="number">1</span> &lt; <span class="built_in">len</span>(nums) &amp;&amp; nums[j+<span class="number">1</span>] == nums[j]+<span class="number">1</span>&#123;</span><br><span class="line">			j++</span><br><span class="line">			<span class="keyword">continue</span></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> i==j &#123;</span><br><span class="line">			rStr = <span class="built_in">append</span>(rStr, strconv.Itoa(nums[i]))</span><br><span class="line">		&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">			rStr = <span class="built_in">append</span>(rStr, strconv.Itoa(nums[i]) + <span class="string">&quot;-&gt;&quot;</span> + strconv.Itoa(nums[j]))</span><br><span class="line">		&#125;</span><br><span class="line">		i = j+<span class="number">1</span></span><br><span class="line">		j++</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> rStr</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="268-丢失的数字"><a href="#268-丢失的数字" class="headerlink" title="268. 丢失的数字"></a>268. 丢失的数字</h3><p><img src="https://cdn.jsdelivr.net/gh/inkdp/CDN@main/img/image-89a5554f.png" alt="image.png"></p>
<h4 id="解题思路：-4"><a href="#解题思路：-4" class="headerlink" title="解题思路："></a>解题思路：</h4><ol>
<li>哈希表，循环一次将数组元素存下来，在循环<code>0-len(nums)</code>，不存在的就是丢失的</li>
<li>排序后遍历，下标和数组不相等这标识此下标树缺失</li>
<li>数学方式，通过高斯求和<code>n*(n+1)/2</code>算出所有的和，再减去所有的数组元素，剩下的就是丢失的树</li>
<li>异或运算</li>
</ol>
<h4 id="示例代码：-3"><a href="#示例代码：-3" class="headerlink" title="示例代码："></a>示例代码：</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 哈希</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">missingNumber1</span><span class="params">(nums []<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">	mapArr := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">bool</span>)</span><br><span class="line">	<span class="keyword">for</span> _, v := <span class="keyword">range</span> nums &#123;</span><br><span class="line">		mapArr[v] = <span class="literal">true</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">1</span>; i &lt;= <span class="built_in">len</span>(nums); i++ &#123;</span><br><span class="line">		<span class="keyword">if</span> _, ok := mapArr[i]; !ok &#123;</span><br><span class="line">			<span class="keyword">return</span> i</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 排序</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">missingNumber2</span><span class="params">(nums []<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">	sort.Ints(nums)</span><br><span class="line">	<span class="keyword">for</span> k, v := <span class="keyword">range</span> nums &#123;</span><br><span class="line">		<span class="keyword">if</span> k != v &#123;</span><br><span class="line">			<span class="keyword">return</span> k</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">len</span>(nums)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 数学</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">missingNumber3</span><span class="params">(nums []<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">	sum := <span class="number">0</span></span><br><span class="line">	<span class="keyword">for</span> _, v := <span class="keyword">range</span> nums &#123;</span><br><span class="line">		sum += v</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">len</span>(nums)*(<span class="built_in">len</span>(nums)+<span class="number">1</span>)/<span class="number">2</span> - sum</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 异或位运算</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">missingNumber4</span><span class="params">(nums []<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">	miss := <span class="built_in">len</span>(nums)</span><br><span class="line">	<span class="keyword">for</span> k, v := <span class="keyword">range</span> nums &#123;</span><br><span class="line">		miss ^= k ^ v</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> miss</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="283-移动零"><a href="#283-移动零" class="headerlink" title="283. 移动零"></a>283. 移动零</h3><p><img src="https://cdn.jsdelivr.net/gh/inkdp/CDN@main/img/image-be9c99ed.png" alt="image.png"></p>
<h4 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h4><ol>
<li>双指针，A一直向右移动，遇到非0的与B交换即可<br><img src="https://pic.leetcode-cn.com/36d1ac5d689101cbf9947465e94753c626eab7fcb736ae2175f5d87ebc85fdf0-283_2.gif" alt="283_2.gif"></li>
</ol>
<h4 id="示例代码：-4"><a href="#示例代码：-4" class="headerlink" title="示例代码："></a>示例代码：</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">moveZeroes</span><span class="params">(nums []<span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">	<span class="keyword">for</span> i, j := <span class="number">0</span>, <span class="number">0</span>; i &lt; <span class="built_in">len</span>(nums); i++ &#123;</span><br><span class="line">		<span class="keyword">if</span> nums[i] != <span class="number">0</span> &#123;</span><br><span class="line">			nums[i], nums[j] = nums[j], nums[i]</span><br><span class="line">			j++</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(nums)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://hexo.inkdp.cn/leetcode_array1.html" data-id="ckjtnpjmw003g09l947dh7xmm" data-title="leetcode-数组系列1" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Golang/" rel="tag">Golang</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/leetcode/" rel="tag">leetcode</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/learn/" rel="tag">学习</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-posts-202010-MySQL分页查询优化" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/articles/2020/10/21/1603213579436.html" class="article-date">
  <time class="dt-published" datetime="2020-10-20T17:06:19.000Z" itemprop="datePublished">2020-10-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/skill/">技术</a>►<a class="article-category-link" href="/categories/skill/back-end/">后端</a>►<a class="article-category-link" href="/categories/pitDiary/">踩坑日记</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/articles/2020/10/21/1603213579436.html">MySQL分页查询优化</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>Mysql慢查询优化，一直是开发中不可避免的问题，当然面试的时候也是。</p>
<p>今天的面试中，面试的最后一道题：“如何提供分页查询”，我自信的写下 <code>LIMIT</code>，认为此题十拿九稳，面试官此后的问题为当 <code>offset</code>到一定数量的时候怎么优化，因为之前没有遇到过类似的问题，而且也没有量特别大的分页，所以这个问题只能作罢。</p>
<h3 id="复盘"><a href="#复盘" class="headerlink" title="复盘"></a>复盘</h3><p>回家后弄了个大概有快20W数据的表，实测一下，查询速度是否会因为 <code>limit</code>边大而边长。<br><img src="https://cdn.jsdelivr.net/gh/inkdp/CDN@main/img/image-f1d086a6.png" alt="image.png"></p>
<p>如上图所示，同样的查询条件下，因为 <code>limit</code>增大查询速度确实变慢了很多。</p>
<h4 id="why"><a href="#why" class="headerlink" title="why?"></a>why?</h4><p>对于limit子句 <code>LIMIT [offset,] row_count</code>，官网说明如下</p>
<ul>
<li>The<code>offset</code> specifies the offset of the first row to return. The<code>offset</code> of the first row is 0, not 1.</li>
<li>The<code>row_count</code> specifies the maximum number of rows to return.</li>
<li>翻译一下就是：</li>
<li><code>offset</code>参数指定要返回的第一行的偏移量。第一行的偏移量为<code>0</code>，而不是<code>1</code>。</li>
<li><code>count</code>指定要返回的最大行数。</li>
<li></li>
</ul>
<p>因为要偏移到 <code>offset</code>处，所以就要先扫描前 <code>offset</code>行，所以随着 <code>limit</code>边大，也就越来越慢。</p>
<h4 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h4><p>随意Google一下，就找到了两种解决办法，分别贴出对于SQL以作参考<br><img src="https://cdn.jsdelivr.net/gh/inkdp/CDN@main/img/image-dbe47374.png" alt="image.png"></p>
<p>因为数据量小，然后数据没有特意去设计，所以整体来说效果一般，但是还是有所提升</p>
<h4 id="思考"><a href="#思考" class="headerlink" title="思考"></a>思考</h4><p>针对limit的优化，更多的应该是让limit去尽量少的偏移数据，具体步骤如下：</p>
<ul>
<li>使用索引列或者主键作为<code>order by</code>操作列</li>
<li>记录上次查询的主键，作为下次查询时主键的筛选条件<br><img src="https://cdn.jsdelivr.net/gh/inkdp/CDN@main/img/image-bef7270a.png" alt="image.png"></li>
</ul>
<p>参考：<a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000017059239?utm_source=sf-related">性能优化之分页查询</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://hexo.inkdp.cn/articles/2020/10/21/1603213579436.html" data-id="ckjtnpjmt003809l9akpz0vn5" data-title="MySQL分页查询优化" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MySQL/" rel="tag">MySQL</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/learn/" rel="tag">学习</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-posts-202007-Go爬虫初体验" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/articles/2020/07/09/1594287406684.html" class="article-date">
  <time class="dt-published" datetime="2020-07-09T09:36:46.000Z" itemprop="datePublished">2020-07-09</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/skill/">技术</a>►<a class="article-category-link" href="/categories/skill/back-end/">后端</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/articles/2020/07/09/1594287406684.html">Go爬虫初体验</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>  闲来无事的时候，偶尔也会看看漫画，但是鹅厂的操作大家都懂，想看最新的你就得给钱，本着白嫖精神，我找到了<a target="_blank" rel="noopener" href="http://www.pufei8.com/">扑飞漫画</a>，但是这网页的阅读体验一言难尽，他家的APP也是，动不动就加载失败，一等一半天。思来想去，还是弄个爬虫把图片都爬下来，然后想法弄到kindle里面岂不美哉。因为不会Python，所以只好用GO来写了，虽然没写过，但是可以现学嘛。</p>
<h2 id="初识爬虫"><a href="#初识爬虫" class="headerlink" title="初识爬虫"></a>初识爬虫</h2><p>  网上找了下资料，go的写爬虫也太简单了吧，几行代码就搞定了，比如下面这样，几行代码就把整个页面拿到了。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;io/ioutil&quot;</span></span><br><span class="line">	<span class="string">&quot;net/http&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	resp, err := http.Get(<span class="string">&quot;https://www.baidu.html&quot;</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;http get error&quot;</span>, err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">defer</span> resp.Body.Close()</span><br><span class="line">	body, err := ioutil.ReadAll(resp.Body)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;read error&quot;</span>, err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(<span class="keyword">string</span>(body))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>  得知爬虫这么简单的我笑出了声，剩下的工作也就是获取网址源码，然后正则解析出我想要的东西，循环以上步骤拿到图片地址下载即可，整体可分为三步。</p>
<ol>
<li>爬取漫画首页，获取目录标题极其链接</li>
<li>通过目录拿到的链接去访问图片所在页面，然后解析出图片地址</li>
<li>下载图片，并存储在指定页面</li>
</ol>
<p>  有了如上结论的我开始奋笔疾书，然后当我进行到第二步获取图片地址的时候，发现爬下来的页面与网页实际的不一样。</p>
<p><img src="https://cdn.jsdelivr.net/gh/inkdp/CDN@main/img/image-5aa0dbd7.png" alt="image.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/inkdp/CDN@main/img/image-1b67caf2.png" alt="image.png"></p>
<p>  我获取到网页内容是一个loading页面，而不是这个页面最终的状态。起初的想法是因为网页一开始打开时这样，加载完后就正常了，所以我隔几秒在读取网页内容，事实证明这样不行。</p>
<h2 id="意外之喜"><a href="#意外之喜" class="headerlink" title="意外之喜"></a>意外之喜</h2><p>  因为不知道啥原因导致的，所以也没找到解决办法，期间尝试了一下爬虫框架也依旧无果。但是也没有彻底放弃，没事就看看这页面的源码，希望能找出解决办法。</p>
<p><img src="https://cdn.jsdelivr.net/gh/inkdp/CDN@main/img/image-4b9ea23b.png" alt="image.png"></p>
<p>  乍一看是某种解密的东西，尝试运行下发现可以得到这一页的图片地址，还剩下几个变量又都是干嘛的呢，好奇之下运行了一下。</p>
<p><img src="https://cdn.jsdelivr.net/gh/inkdp/CDN@main/img/image-82545a4e.png" alt="image.png"></p>
<p>  如此一来，整个章节所有图片的地址也就都有了。问题也就是怎么在go里运行js，然后就找到了一个叫<a target="_blank" rel="noopener" href="https://github.com/robertkrimen/otto">otto</a>的包，完美。</p>
<h2 id="开始书写"><a href="#开始书写" class="headerlink" title="开始书写"></a>开始书写</h2><p>  因为在寻找解决办法的过程中接触了一些爬虫框架，整体感觉比源码撸方便一点，主要是不用自己写正则，可以像js操作DOM节点那样找到自己想要的内容，所以就换了框架<a href="github.com/gocolly/colly">colly</a>来完成整改爬虫。</p>
<p>  定义一个全局变量，用于存放章节与之对应的链接以及该章节下的所有图片</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Catalog <span class="keyword">struct</span> &#123;</span><br><span class="line">   Title  <span class="keyword">string</span></span><br><span class="line">   Url    <span class="keyword">string</span></span><br><span class="line">   ImgArr []<span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> catalog []*Catalog</span><br></pre></td></tr></table></figure>
<h3 id="1-漫画首页"><a href="#1-漫画首页" class="headerlink" title="1. 漫画首页"></a>1. 漫画首页</h3><p>  第一步是爬取漫画的首页，通过获取目录内容去获取到章节的标题以及该章节的地址。比如<a target="_blank" rel="noopener" href="http://www.pufei8.com/manhua/419/">一人之下</a>，目录存放在 <code>id=&quot;play_0&quot;</code>下的无序列表中，获取对应 <code>li</code>标签内 <code>a</code>标签内容即可。</p>
<p><img src="https://cdn.jsdelivr.net/gh/inkdp/CDN@main/img/image-bad891eb.png" alt="image.png"></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">c := colly.NewCollector()</span><br><span class="line">c.OnHTML(<span class="string">&quot;#play_0&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(e *colly.HTMLElement)</span></span> &#123;</span><br><span class="line">   e.ForEach(<span class="string">&quot;ul li a&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(i <span class="keyword">int</span>, element *colly.HTMLElement)</span></span> &#123;</span><br><span class="line">      href := element.Attr(<span class="string">&quot;href&quot;</span>)</span><br><span class="line">      title := element.Text</span><br><span class="line">      title = coverGBKToUTF8(title) <span class="comment">// 页面编码转为UTF8</span></span><br><span class="line">      catalog = <span class="built_in">append</span>(catalog, &amp;Catalog&#123;Url: PF + href, Title: title&#125;)</span><br><span class="line">   &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">c.OnRequest(<span class="function"><span class="keyword">func</span><span class="params">(r *colly.Request)</span></span> &#123;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">c.Visit(MANHUA + strconv.Itoa(Mid))</span><br></pre></td></tr></table></figure>
<p>  扑飞漫画整站的编码是 <code>gb2312</code>，因为go只认 <code>utf-8</code>，所以对于爬取的内容需要处理下。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&quot;github.com/axgle/mahonia&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">coverGBKToUTF8</span><span class="params">(src <span class="keyword">string</span>)</span> <span class="title">string</span></span> &#123;</span><br><span class="line">   <span class="keyword">return</span> mahonia.NewDecoder(<span class="string">&quot;gbk&quot;</span>).ConvertString(src)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-获取图片地址"><a href="#2-获取图片地址" class="headerlink" title="2. 获取图片地址"></a>2. 获取图片地址</h3><p>  通过上面的代码，我们已经获取了所有目录对应地址，接下来需要做的只是去到对应页面，获取JS代码并执行，获得该章节下所有的图片地址</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取该章节所有图片地址</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">GetImgArr</span><span class="params">(catalog *Catalog)</span></span> &#123;</span><br><span class="line">   c := colly.NewCollector()</span><br><span class="line">   c.OnHTML(<span class="string">&quot;head script&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(e *colly.HTMLElement)</span></span> &#123;</span><br><span class="line">      <span class="keyword">if</span> e.Text != <span class="string">&quot;&quot;</span> &#123;</span><br><span class="line">         JavaScript := coverGBKToUTF8(e.Text)</span><br><span class="line">         JavaScript += <span class="string">&quot; function f() &#123;return photosr;&#125; f();&quot;</span></span><br><span class="line">         vm := otto.New()</span><br><span class="line">         value, err := vm.Run(JavaScript)</span><br><span class="line">         <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">            log.Println(<span class="string">&quot;解析图片地址失败:&quot;</span>, err)</span><br><span class="line">         &#125;</span><br><span class="line">         imgStr, err := value.ToString()</span><br><span class="line">         <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">            log.Println(<span class="string">&quot;图片地址解析出错:&quot;</span>, err)</span><br><span class="line">         &#125;</span><br><span class="line">         imgArr := strings.Split(imgStr, <span class="string">&quot;,&quot;</span>)</span><br><span class="line">         catalog.ImgArr = imgArr[<span class="number">1</span>:]</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;)</span><br><span class="line"></span><br><span class="line">   c.OnRequest(<span class="function"><span class="keyword">func</span><span class="params">(r *colly.Request)</span></span> &#123;</span><br><span class="line">   &#125;)</span><br><span class="line"></span><br><span class="line">   c.Visit(catalog.Url)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-下载图片"><a href="#3-下载图片" class="headerlink" title="3. 下载图片"></a>3. 下载图片</h3><p>  这个网上一搜图片一大堆，所以直接copy一份就可以了</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建文件夹并存储图片</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">CreateFileGetImg</span><span class="params">(catalog *Catalog, index <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">   <span class="keyword">if</span> catalog.Title == <span class="string">&quot;通知&quot;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">   &#125;</span><br><span class="line">   dir := DIR + strconv.Itoa(index) + <span class="string">&quot;--&quot;</span> + catalog.Title</span><br><span class="line">   err := os.MkdirAll(dir, os.ModePerm)</span><br><span class="line">   <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">      log.Println(<span class="string">&quot;创建文件夹失败&quot;</span>)</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">for</span> k, v := <span class="keyword">range</span> catalog.ImgArr &#123;</span><br><span class="line">         resp, err := http.Get(ImgHeader + v)</span><br><span class="line">         <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">            log.Println(err)</span><br><span class="line">         &#125;</span><br><span class="line">         body, _ := ioutil.ReadAll(resp.Body)</span><br><span class="line">         out, _ := os.Create(dir + <span class="string">&quot;/&quot;</span> + strconv.Itoa(k+<span class="number">1</span>) + <span class="string">&quot;.jpg&quot;</span>)</span><br><span class="line">         io.Copy(out, bytes.NewReader(body))</span><br><span class="line">         resp.Body.Close()</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="4-细节处理"><a href="#4-细节处理" class="headerlink" title="4. 细节处理"></a>4. 细节处理</h3><p>  在获取图片地址并下载图片的时候，可能会出现类似 <code>Get http://res.img.fffmanhua.com/2017/08/22/20/28acd5236d.jpg: EOF</code>的错误，我处理的方式是再获取一次，知道它不报错为止。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">GetImage:</span><br><span class="line">		resp, err := http.Get(ImgHeader + v)</span><br><span class="line">		<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">			log.Println(err)</span><br><span class="line">			<span class="keyword">goto</span> GetImage <span class="comment">// 获取图片出错重新获取</span></span><br><span class="line">		&#125;</span><br></pre></td></tr></table></figure>
<h3 id="5-并发"><a href="#5-并发" class="headerlink" title="5. 并发"></a>5. 并发</h3><p>  上述代码已经可以完成我的程序需求了，但是面对漫画量很大的情况下，执行的时间还是很吃力的，所以需要加上并发。一开始的考虑是在获取章节的时候直接并发，顺道把图片也下载了。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> wg sync.WaitGroup</span><br><span class="line">	<span class="keyword">for</span> k, v := <span class="keyword">range</span> catalog &#123;</span><br><span class="line">		wg.Add(<span class="number">1</span>)</span><br><span class="line">		<span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">(v *Catalog, k <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">			<span class="comment">//获取图片地址</span></span><br><span class="line">			GetImgArr(v)</span><br><span class="line">			<span class="keyword">if</span> runtime.NumGoroutine() &gt; MaxNum &#123;</span><br><span class="line">				MaxNum = runtime.NumGoroutine()</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="comment">//创建文件夹并获取图片</span></span><br><span class="line">			CreateFileGetImg(v, <span class="built_in">len</span>(catalog)-k)</span><br><span class="line">			wg.Done()</span><br><span class="line">		&#125;(v, k)</span><br><span class="line">	&#125;</span><br><span class="line">	wg.Wait()</span><br></pre></td></tr></table></figure>
<p>  我在编辑器Goland里面运行的时候是没有问题的，但是当我编译后拿去Windows和Mac里运行就会出一大堆的问题，最后只能限制一下并发量的问题，最终的解决办法是并发获取图片目录信息，然后做一个队列去下载图片，同时最多下载10张，这样一来，性能也能够吃得消，虽然慢一点，但是它稳。</p>
<h2 id="源码"><a href="#源码" class="headerlink" title="源码"></a>源码</h2><p><a target="_blank" rel="noopener" href="https://github.com/InkDP/PF">https://github.com/InkDP/PF</a></p>
<h2 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h2><p>  吐槽一下，苹果有时候真的很坑，我在通过队列下载的时候，出现了 <code>catalog</code>数组中的 <code>imgArr</code>长度为为空的情况，调试了很久都没用，扔给别人在Windows上就乱跑。</p>
<p><img src="https://cdn.jsdelivr.net/gh/inkdp/CDN@main/img/image-cad22904.png" alt="image.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/inkdp/CDN@main/img/image-573937e9.png" alt="image.png"></p>
<p>&emsp;&emsp;最后的最后附上一张成功的截图<br><img src="https://cdn.jsdelivr.net/gh/inkdp/CDN@main/img/image-1a984f24.png" alt="image.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/inkdp/CDN@main/img/image-c06579cf.png" alt="image.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/inkdp/CDN@main/img/image-fdd3f60d.png" alt="image.png"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://hexo.inkdp.cn/articles/2020/07/09/1594287406684.html" data-id="ckjtnpjms003509l9dgjpgx7a" data-title="Go爬虫初体验" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Golang/" rel="tag">Golang</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/learn/" rel="tag">学习</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-posts-202006-广州一年记" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/articles/2020/06/22/1592755563685.html" class="article-date">
  <time class="dt-published" datetime="2020-06-21T16:06:03.000Z" itemprop="datePublished">2020-06-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/essays/">随笔</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/articles/2020/06/22/1592755563685.html">广州一年记</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>  随着房租和押金的缴纳，我定下了未来一年居住的房子，回头一看，来广州已经差不读一年有余。</p>
<p>  一年的光阴辗转而逝，我从成都到了广州，从初入社会的应届生变成了一个初级社畜，从一无所有到有了那么一丢丢存款，我变了好多好多，又似乎啥也没变。</p>
<p>  初到广州，城中村与高楼大厦组成的城市，让我感到无比陌生。在这个完全没有伙伴的城市，我感到孤独。开始了工作日两点一线，周末死宅在家的固定生活，就这样一年过去了。</p>
<p>  在这一年里，我依稀记得我就出过一次门，那时元旦跨年夜，我决定出去走走，一个人看了电影，一个人吃了烧烤，一个人喝了小酒，那时我已习惯孤独，我开始学会享受孤独。在这样的环境下我开始自律，我开始习惯看书、写日记、记账、规划自己的道路…</p>
<p>  我还是会整体每天没心没肺的嘻嘻哈哈，但是好像没有人再会和我一起欢笑，我的标志性的笑仿佛成了缓解尴尬的一种方式，我其实并不开心，但这又有什么关系，在这个常住人口一千万多人的城市，又有几个人关心或是在意你呢，收起自己的情绪，努力前进才是你该做的。</p>
<p>  在这样环境下，我积压着大量的情绪无处发泄，太多太多的话无处倾述，身为话痨的我，也变得无话可说。偶尔与老友聊天时，我总是有说不完的话，他们的出现让我封闭内心打开一个缺口，疯狂的往外窜。</p>
<p>  看似平静的生活却并不平淡，大学无法正常毕业、实习转正被拒、山盟海誓化为泡影、努力经营的家庭关系分崩离析，好在一切都过去了，一切都在变好。对于离开成都前往广州这个决定，我不后悔。虽在一线城市，但是我并没有感觉到很大的生活压力，我也安装我的计划开始存钱，为了自己车子房子而去努力。</p>
<p>  在延迟了一年后，我终于可以拿到属于我的毕业证。老友的到来，让我有了出去玩约的对象，虽然需要顶着吃狗粮的风险，但也还不错，我虽然宅，但是不希望一直宅下去。某人的出现，我也有了日常倾诉的对象，不再把所有情绪都憋在心里。原来枯燥无味的生活，在开始变得越来越有趣，一切的一切都在向着更好的方向发展。</p>
<p>PS:昨晚去广州塔时的拍的照片，让我发现自己似乎胖了不少，看来在广州的小日子过得不错，附一张老友相机中的我。<br><img src="https://cdn.jsdelivr.net/gh/inkdp/CDN@main/img/1592755437986-47c3807c.jpg" alt="1592755437986.jpg"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://hexo.inkdp.cn/articles/2020/06/22/1592755563685.html" data-id="ckjtnpjmq003009l97qz1en3z" data-title="广州一年记" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/summary/" rel="tag">总结</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/essay/" rel="tag">随笔</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-posts-202006-Golang小技巧——不定时更新" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/articles/2020/06/19/1592560522403.html" class="article-date">
  <time class="dt-published" datetime="2020-06-19T09:55:22.000Z" itemprop="datePublished">2020-06-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/skill/">技术</a>►<a class="article-category-link" href="/categories/skill/back-end/">后端</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/articles/2020/06/19/1592560522403.html">Golang小技巧——不定时更新</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="1、函数返回值定义"><a href="#1、函数返回值定义" class="headerlink" title="1、函数返回值定义"></a>1、函数返回值定义</h3><p>一般的函数定义都是：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">func Test(a,b int) (int, int)&#123;&#125;</span><br></pre></td></tr></table></figure>
<p>然而go却可以这样：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">func Test(a, b int) (c,d int) &#123;&#125;</span><br></pre></td></tr></table></figure>
<p>你可能觉得没什么，但是对于我这种懒人来说，这东西可太方便了，因为go没有 <code>try...catch</code>，所以所有的错误都需要自己手动抛出，一个函数里你可能有N个↓</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> err</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>实际中，你绝对不会只返回一个 <code>err</code>，可能还夹杂着各种乱七八糟的东西，写一次还好，写多了你真的不会烦吗？然而有了第二种定义方式，不过你又多少个返回值，只需要一个 <code>return</code>即可搞定，<img src="https://cdn.jsdelivr.net/gh/inkdp/CDN@main/img/991592559676.pic-f90f3138.jpg" alt="991592559676.pic.jpg"></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(b buriedPoint)</span> <span class="title">Retention</span><span class="params">()</span> <span class="params">(channel, projectId, startTime, endTime <span class="keyword">string</span>, list []dbmodel.BuriedPointKey, data []<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>, err error)</span></span> &#123;</span><br><span class="line">	<span class="comment">//...</span></span><br><span class="line">	<span class="comment">//return channel, projectId, startTime, endTime, list, data, err</span></span><br><span class="line">	<span class="keyword">return</span> <span class="comment">//选哪个不是一目了然吗，当然实际中不会让你返回这么多，这里有些夸张</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>当然上述的方法虽爽，但是也还是会有问题的，让我们再<img src="https://cdn.jsdelivr.net/gh/inkdp/CDN@main/img/991592559676.pic-f90f3138.jpg" alt="991592559676.pic.jpg"></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">StringToInt</span><span class="params">(str <span class="keyword">string</span>)</span> <span class="params">(v <span class="keyword">int</span>, err error)</span></span> &#123;</span><br><span class="line">	<span class="keyword">if</span> <span class="literal">true</span> &#123;</span><br><span class="line">		<span class="keyword">int</span>, err := strconv.Atoi(str)</span><br><span class="line">		<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">			<span class="keyword">return</span></span><br><span class="line">		&#125;</span><br><span class="line">		v = <span class="keyword">int</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>乍一看没啥毛病，但是你运行下看看报不报错就完事了</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./main.go:17:4: err is shadowed during return</span><br></pre></td></tr></table></figure>
<p>出现问题就要去解决，提供两种方法↓</p>
<p>方法1：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">StringToInt</span><span class="params">(str <span class="keyword">string</span>)</span> <span class="params">(v <span class="keyword">int</span>, err error)</span></span> &#123;</span><br><span class="line">	<span class="keyword">if</span> <span class="literal">true</span> &#123;</span><br><span class="line">		<span class="keyword">int</span>, rErr := strconv.Atoi(str)</span><br><span class="line">		<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">			err = rErr</span><br><span class="line">			<span class="keyword">return</span></span><br><span class="line">		&#125;</span><br><span class="line">		v = <span class="keyword">int</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>方法2：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">StringToInt</span><span class="params">(str <span class="keyword">string</span>)</span> <span class="params">(v <span class="keyword">int</span>, err error)</span></span> &#123;</span><br><span class="line">	<span class="keyword">if</span> <span class="literal">true</span> &#123;</span><br><span class="line">		<span class="keyword">int</span>, err := strconv.Atoi(str)</span><br><span class="line">		<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">			<span class="keyword">return</span> v, err</span><br><span class="line">		&#125;</span><br><span class="line">		v = <span class="keyword">int</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>到这个时候，它是不是就不这么香了，是否预定义需要根据实际场景决定。</p>
<h3 id="2、JSON数组返回NULL"><a href="#2、JSON数组返回NULL" class="headerlink" title="2、JSON数组返回NULL"></a>2、JSON数组返回NULL</h3><p>当你的接口返回一个数组，而且数组正好为空时↓</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>:<span class="number">200</span>,</span><br><span class="line">    <span class="attr">&quot;msg&quot;</span>:<span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;data&quot;</span>:<span class="literal">null</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>你可能会返回这样的东西，那么你的前端看了可能会打人(我帮你们问过了)，去翻了下go官方的json包，发现了以下内容：</p>
<blockquote>
<p>Array and slice values encode as JSON arrays, except that []byte encodes as a base64-encoded string, and a nil slice encodes as the null JSON value.</p>
</blockquote>
<p>借助翻译软件：</p>
<blockquote>
<p>数组和切片值编码为JSON数组，但[] byte编码为base64编码的字符串，而nil slice编码为Null JSON值</p>
</blockquote>
<p>日常定义数组时，我们一般采用如下两种方式初始化：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> t []<span class="keyword">int</span></span><br></pre></td></tr></table></figure>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">t := []<span class="keyword">int</span>&#123;&#125;</span><br></pre></td></tr></table></figure>
<p>函数返回值定义中定义的与上述两周并无差异，所以也就会返回一样的</p>
<p>定时数组时使用 <code>make</code>就可以完全避免这种情况</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> t = <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<p>demo：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	data := Str&#123;&#125;</span><br><span class="line">	data2 := Str&#123;Array: []<span class="keyword">string</span>&#123;&#125;&#125;</span><br><span class="line">	<span class="keyword">var</span> arr = []<span class="keyword">string</span>&#123;&#125;</span><br><span class="line">	data.Array = arr</span><br><span class="line">	buf, err := json.Marshal(&amp;data)</span><br><span class="line">	log.Println(<span class="keyword">string</span>(buf), err)</span><br><span class="line">	buf2, err2 := json.Marshal(&amp;data2)</span><br><span class="line">	log.Println(<span class="keyword">string</span>(buf2), err2)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://hexo.inkdp.cn/articles/2020/06/19/1592560522403.html" data-id="ckjtnpjmp002x09l919lign0l" data-title="Golang小技巧——不定时更新" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Golang/" rel="tag">Golang</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/study-notes/" rel="tag">读书笔记</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-posts-202005-高性能消息队列NSQ-GO-demo" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/articles/2020/05/21/1590046687574.html" class="article-date">
  <time class="dt-published" datetime="2020-05-21T07:38:07.000Z" itemprop="datePublished">2020-05-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/skill/">技术</a>►<a class="article-category-link" href="/categories/skill/back-end/">后端</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/articles/2020/05/21/1590046687574.html">高性能消息队列NSQ---GO--demo</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>&emsp;&emsp;关于NSQ是什么，NSQ是做什么的，怎么启动，网上的资料太多太多，详情请移步<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/37081073">分布式实时消息平台NSQ</a>，里面讲的很详细，还附带demo。</p>
<h3 id="客户端-生产者-producer"><a href="#客户端-生产者-producer" class="headerlink" title="客户端/生产者(producer)"></a>客户端/生产者(producer)</h3><p>&emsp;&emsp;NSQ发送消息非常简单，分两步完成：</p>
<ul>
<li>创建Producer实例</li>
<li>调用<code>Publish</code>发送一个新的消息到指定的<code>topic</code>中<br>具体实现如下所示<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	cfg := nsq.NewConfig()</span><br><span class="line">	nsqd := <span class="string">&quot;127.0.0.1:4150&quot;</span></span><br><span class="line">	producer, err := nsq.NewProducer(nsqd, cfg)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		log.Fatal(err)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> err := producer.Publish(<span class="string">&quot;test&quot;</span>, []<span class="keyword">byte</span>(<span class="string">&quot;Hello NSQ&quot;</span>)); err != <span class="literal">nil</span> &#123;</span><br><span class="line">		log.Fatal(<span class="string">&quot;publish error:&quot;</span> + err.Error())</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="服务端-消费者-consumer"><a href="#服务端-消费者-consumer" class="headerlink" title="服务端/消费者(consumer)"></a>服务端/消费者(consumer)</h3>&emsp;&emsp;消费者用于接收指定<code>topic</code>中的消息，实现需分为3步：</li>
<li>调用<code>NewConsumer</code>为指定的主题/渠道创建消费者的新实例</li>
<li>调用<code>AddHandler</code>为此使用者接收的消息设置处理程序</li>
<li>调用<code>ConnectToNSQD</code>使用nsqd地址直接连接，有多个地址时使用<code>ConnectToNSQDs</code>，这里官方文档推荐使用<code>ConnectToNSQLookupd</code><br>具体实现如下：<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	cfg := nsq.NewConfig()</span><br><span class="line">	c, err := nsq.NewConsumer(topic, channel, cfg)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="built_in">panic</span>(err)</span><br><span class="line">	&#125;</span><br><span class="line">	c.AddHandler(&amp;ConsumerT&#123;&#125;)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> err := c.ConnectToNSQD(address); err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="built_in">panic</span>(err)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(*ConsumerT)</span> <span class="title">HandleMessage</span><span class="params">(msg *nsq.Message)</span> <span class="title">error</span></span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">&quot;receive&quot;</span>, msg.NSQDAddress, <span class="string">&quot;message:&quot;</span>, <span class="keyword">string</span>(msg.Body))</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="消费者生产者搭配使用"><a href="#消费者生产者搭配使用" class="headerlink" title="消费者生产者搭配使用"></a>消费者生产者搭配使用</h3>&emsp;&emsp;我上面所写的demo虽实现了最基本的NSQ的功能，但是对于一个demo来说，整体不够直观。理想中的状态应该是：服务端一直处于执行状态，客户端发送消息时，服务端接受并处理。<br>&emsp;&emsp;改造后服务端：<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line">	<span class="string">&quot;github.com/nsqio/go-nsq&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> ConsumerT <span class="keyword">struct</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	InitConsumer(<span class="string">&quot;test&quot;</span>, <span class="string">&quot;ch1&quot;</span>, <span class="string">&quot;127.0.0.1:4150&quot;</span>)</span><br><span class="line">	<span class="keyword">select</span> &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(*ConsumerT)</span> <span class="title">HandleMessage</span><span class="params">(msg *nsq.Message)</span> <span class="title">error</span></span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">&quot;receive&quot;</span>, msg.NSQDAddress, <span class="string">&quot;message:&quot;</span>, <span class="keyword">string</span>(msg.Body))</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">InitConsumer</span><span class="params">(topic <span class="keyword">string</span>, channel <span class="keyword">string</span>, address <span class="keyword">string</span>)</span></span> &#123;</span><br><span class="line">	cfg := nsq.NewConfig()</span><br><span class="line">	c, err := nsq.NewConsumer(topic, channel, cfg)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="built_in">panic</span>(err)</span><br><span class="line">	&#125;</span><br><span class="line">	c.AddHandler(&amp;ConsumerT&#123;&#125;)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> err := c.ConnectToNSQD(address); err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="built_in">panic</span>(err)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
&emsp;&emsp;客户端这边呢，倒是没什么具体要更改的，可是每次都需要重复去运行才能发送消息也确实麻烦，所以做了点小更改，让客户端也一直处于运行状态，通过命令行的输入来发送消息，具体如下：<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;bufio&quot;</span></span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;github.com/nsqio/go-nsq&quot;</span></span><br><span class="line">	<span class="string">&quot;log&quot;</span></span><br><span class="line">	<span class="string">&quot;os&quot;</span></span><br><span class="line">	<span class="string">&quot;strings&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	cfg := nsq.NewConfig()</span><br><span class="line">	nsqd := <span class="string">&quot;127.0.0.1:4150&quot;</span></span><br><span class="line">	producer, err := nsq.NewProducer(nsqd, cfg)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		log.Fatal(err)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	reader := bufio.NewReader(os.Stdin)</span><br><span class="line">	fmt.Println(<span class="string">&quot;Simple Shell&quot;</span>)</span><br><span class="line">	fmt.Println(<span class="string">&quot;---------------------&quot;</span>)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> &#123;</span><br><span class="line">		fmt.Print(<span class="string">&quot;-&gt; topic: &quot;</span>)</span><br><span class="line">		topic, _ := reader.ReadString(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">		topic = strings.Replace(topic, <span class="string">&quot;\n&quot;</span>, <span class="string">&quot;&quot;</span>, <span class="number">-1</span>)</span><br><span class="line">		fmt.Print(<span class="string">&quot;-&gt; message: &quot;</span>)</span><br><span class="line">		message, _ := reader.ReadString(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">		message = strings.Replace(message, <span class="string">&quot;\n&quot;</span>, <span class="string">&quot;&quot;</span>, <span class="number">-1</span>)</span><br><span class="line">		fmt.Println(<span class="string">&quot;消息发送中\n&quot;</span>)</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> err := producer.Publish(topic, []<span class="keyword">byte</span>(message)); err != <span class="literal">nil</span> &#123;</span><br><span class="line">			log.Fatal(<span class="string">&quot;publish error:&quot;</span> + err.Error())</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
源码请访问本人GitHub下载：<a target="_blank" rel="noopener" href="https://github.com/InkDP/nsq-demo">https://github.com/InkDP/nsq-demo</a><h3 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h3>&emsp;&emsp;发送文章那一刻，发现上次发文章已经是5个月前，最近太懒都没学新的东西，希望早日回到高产似母猪的状态。</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://hexo.inkdp.cn/articles/2020/05/21/1590046687574.html" data-id="ckjtnpjmn002s09l99fqae10j" data-title="高性能消息队列NSQ---GO--demo" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Golang/" rel="tag">Golang</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/learn/" rel="tag">学习</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-posts-201912-2019年个人总结" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2019.html" class="article-date">
  <time class="dt-published" datetime="2019-12-26T11:11:11.000Z" itemprop="datePublished">2019-12-26</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/essays/">随笔</a>►<a class="article-category-link" href="/categories/essays/summary/">总结</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2019.html">2019年个人总结</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>&emsp;&emsp;时间如梭，转眼已到12月月底，农历也悄然走到腊月，2020年即将来到。2019年对我来说算是意义非凡的一年，无论从时间，地点上划分，19年可大致分为两个部分，上半部分波澜不惊，下半部分波涛汹涌。趁着这个无所事事外加老大在一边玩游戏的下午对我的2019做个总结。</p>
<p>&emsp;&emsp;我从一个学生变成了一个社会人；从重庆跑去了成都，再由成都来到了广州；从PHP成功转到GO；从两个人变成了一个人。。。这一年发生在我身上的事太多太多，我也因此改变了太多太多。</p>
<p>&emsp;&emsp;无论从时间，地点上划分，19年可大致分为两个部分，上半部分波澜不惊，下半部分波涛汹涌</p>
<h3 id="时间轴"><a href="#时间轴" class="headerlink" title="时间轴"></a>时间轴</h3><ul>
<li><p>2018年12月25日：因为种种原因，从实习公司离职，决定回家深入学习go</p>
</li>
<li><p>2019年01月24日：前往成都，入职一家以go主要语言的公司</p>
</li>
<li><p>2019年01月30日：在新公司上班三天后，我决定请假提前回家过年（已决定年后重新找工作）</p>
</li>
<li><p>2019年02月11日-02月13日：从家里辗转到重庆然后到成都</p>
</li>
<li><p>2019年03月：入职成都一家企业服务公司的IT部门，成为技术负责人</p>
</li>
<li><p>2019年05月01日-05月13日：回学校参加毕业答辩，期间与女友闹了一次分手，影响下半年的决定在这期间产生</p>
</li>
<li><p>2019年06月中旬：从成都公司离职，回校参加英语A级考试</p>
</li>
<li><p>2019年06月下旬：由重庆前往广州，开始广漂生涯</p>
</li>
<li><p>2019年07月03日：入职一家电商公司，开发语言GO</p>
</li>
<li><p>2019年09月21日：和女友分手</p>
</li>
<li><p>2019年09月30日：没能得到转正资格，从电商公司离职</p>
</li>
<li><p>2019年10月16日：入职现在的公司，一家游戏外包公司，开始转型做游戏</p>
</li>
</ul>
<h3 id="概叙"><a href="#概叙" class="headerlink" title="概叙"></a>概叙</h3><p>&emsp;&emsp;去年年末的时候从实习的公司离职，其中缘由不再追溯，时间刚好6个月，当时距离过年还有一个多月，兜里有点小钱，遂决定离职在家深入学习go，年后找一家go的公司。事实证明我太年轻，游戏诱惑太大，在家玩了一个月左右的修仙模拟器（害人啊），这期间在网上投了几波简历，电面通过成都一家公司的面试，但是要求年前一周入职，算是认一认同事之类的。1月24日带着女友前往成都，租了房子，1月28日入职。这家公司是做ERP的，公司不错，上来就配一台MacBook，具体配置忘了(依稀记得是Air)，但是用着是真的难受，各种不适应（现在抱着我的MBP写总结，表示真香），一个月没敲代码的我几乎忘完了Go，但是还是逼着自己适应。入职第三天的下午我询问后端老大，我后面需要做些什么，他把我叫来会议室，跟我讲了公司的种种业务，谈话过程中有聊到前端使用Vue，我插了句嘴，表示我用过Vue，他叫来了前端负责人让我和他聊，聊了很久，我当时也很迷茫，可我不是傻逼，看的出来前后端似乎都不想要我。他们对我的问题进行了大概半个小时的讨论，把我调去了前端组(这种被人嫌弃的感觉真的很不好)，因为第二天女友要回家过年，我爷爷也在医院住院，当晚决定从公司请假和女友一起回家，已经大概率决定年后重新找工作，因为听说年后要996，我怂了。</p>
<p>&emsp;&emsp;过年很开心，女友在我家过得年，虽不算正式，但也算是见过我爸了。因为过年前后把手机屏幕摔坏，不能正常买票，所以不能再年后的工作时间入职，随即辞职，打算重新工作，期间租的房子也退了，暂住在女友哥哥家。重新回到成都后，我开始了漫长的找工作时间，都说金三银四，可是我找工作的经历却不是那么顺利，因为太久没敲代码，所以一问三不知，经过一个月的努力找到了一家非互联网公司的工作。</p>
<p>&emsp;&emsp;因为是非互联网公司，所以整个IT部门也没几个人，我成了技术负责人，项目进度由我制定，所以比较闲，在这期间发现了开源项目<a target="_blank" rel="noopener" href="https://github.com/88250/solo">solo</a>，并搭建了自己的个人博客<a target="_blank" rel="noopener" href="https://www.inkdp.cn/">墨殇的技术博客</a>。</p>
<p>&emsp;&emsp;5月初趁着国庆回校答辩，女友也回自己学校答辩，回重庆的当晚与女友闹出矛盾，由于处理不及时，第二天便分手，答辩期间复合后又因种种原因分开。答辩一切顺利，结束后回到成都继续上班。整个答辩期间，因为和女友的种种不得不考虑下以后的打算，但是因为和女友分手心灰意冷，打算离开成都去广州。女友从学校回成都后复合，但是此时对于未来的规划的已发生天差地别，女友想去参加西部计划，考公务员，她决定去新疆，让我去广州。我内心是拒绝的，当时想着既然已经复合，那就继续呆在成都，因为我不想再异地了，大学三年异地真的很累了，但最终还是尊重了她的选择。</p>
<p>&emsp;&emsp;6月中旬的时候，从公司离职，回重庆考试顺便回老家，下一站广州。当我提着行李箱从我们成都小家走出那一刻，我知道我与她的此生的缘分，基本尽了，我所能做的只是小心维护，让这个日期可以往后移，无限往后移，或许我们能再一次熬过异地。</p>
<p>&emsp;&emsp;6月底，我离开生我养我的家乡南下广州。之所以选择来广州，是因为父母在这边，当时兜里没钱，想着依靠下父母可以压力小很多，计划中花一个月找工作，找一份自己满意的，我以为的终究是我以为，老爸老妈轮番催着我快点找到工作，然后我就在一周内找到了工作，虽然不太满意，但是也还是一家以GO为开发语言的公司，还行，讲究上把，7月3日入职。</p>
<p>&emsp;&emsp;刚入职第一个月还好，事情不多不少，对刚毕业的我来说提升很大，憧憬这在这家公司后面的种种，然后慢慢的公司大佬全部跑路了，我就知道要凉，我处于了一个很尴尬的境地，想做事没事可做，我知道这样迟早被淘汰，果然9月底，总公司项目负责人告诉我，我无法转正，我9月30日正式离职。</p>
<p>&emsp;&emsp;9月于我来说意义非凡，首先是从公司离职，其次是与女友分手。9月21日的下午，我照例睡到中午起床，由于昨晚与女友聊天时没有Get到她的委屈，我最怕出现的情况还是出现了，在坐在老妈家等外婆做饭的时间点，女友提出了分手，当时的我没有过多犹豫，选择了同意，我其实一直都明白，我们在一起真的是在互相折磨，与其继续缠着她，不如放过她，也放过我，依稀记得外婆那天中午下了面，面里有咸菜，很好吃。从19-23，她青春中最美好的5年陪着我，我真的很感谢她，但最终我还是伤了你，没能与你走到最后，希望你一切都好，你有没有照顾好自己，新疆很冷，抵抗力很差的你有没有感冒，感冒了有没有按时吃药，可惜这些我都无法得知了。已经预知到会从公司离职的我，在发工资的时候选择了通过京东金条借一部分钱，外加上工作入手一台MBP，对于一向理智的我来说，这无疑是一个疯狂的决定。到9月底离职时，我算是处在了人生最低谷，失业，欠债，被分手。</p>
<p>&emsp;&emsp;国庆后的我开始找工作，一周内我便找到了理想的工作，游戏开发，虽然是外包，但是收入颇丰，我选择了现在这家公司，时间证明我是对的，公司的工作方式与氛围于我来说是最舒服的，不出意外，我会在这家公司待到离开广州为止。</p>
<p>&emsp;&emsp;本月中旬得知爷爷病重，当时很担心，老爸前段时间回了家，所幸虚惊一场。</p>
<p>&emsp;&emsp;现在的我一切都好，只是有些丧。希望后面越来越好</p>
<h3 id="简述"><a href="#简述" class="headerlink" title="简述"></a>简述</h3><p>&emsp;&emsp;虽然19年我的生活发生的变化较多，但是现在一切都已恢复正常，有满意的工作，有不错的业余生活。</p>
<h4 id="生活"><a href="#生活" class="headerlink" title="生活"></a>生活</h4><p>&emsp;&emsp;一个人的生活可以过得很精致，也可以过得很简单，我属于后者，每天可以早老妈家吃早晚餐，晚上回家后可以看部电影打打游戏，周末亦是如此，总的来说过得很惬意，没有啥特别大的生活压力。日记一写就是4个多月，这算是今年养成的最好的一个习惯了吧，自己的性格开始变得沉稳，低调，一切似乎都在变好。</p>
<h4 id="阅读"><a href="#阅读" class="headerlink" title="阅读"></a>阅读</h4><p>&emsp;&emsp;5月的时候买了kindle，想着丰富自己的业余生活，做一个书虫，后面退货，6月份重新购入，目前通勤时间我大多数时间都用来看书，虽然阅读时间零零碎碎，但也还是收获颇丰。</p>
<ul>
<li><p>《解忧杂货店》</p>
</li>
<li><p>《肖生克的救赎》</p>
</li>
<li><p>《围城》</p>
</li>
<li><p>《一只特立独行的猪》</p>
</li>
<li><p>《许三观卖血记》</p>
</li>
<li><p>《我们三》</p>
</li>
<li><p>《我这一辈子：老舍自传》</p>
</li>
<li><p>《我的前半生》</p>
</li>
<li><p>《天才在左，疯子在右》</p>
</li>
<li><p>《追风筝的人》</p>
</li>
</ul>
<h4 id="观影"><a href="#观影" class="headerlink" title="观影"></a>观影</h4><p>&emsp;&emsp;得益于大学的时候死党经常请我看电影，我成了一位漫威迷，也有了去电影院看电影的爱好。上半年去电影院看了两部漫威的片子，下半年也有很多想看的，可能因为是一个人，最后都没有去成，后面虽然通过别的渠道看了但还是成了一个小小的遗憾。要学会享受孤独，计划元旦那天去看上一部，暂时没想好看啥，《星战9》，《误杀》，《叶问》似乎都不错。</p>
<ul>
<li><p>《惊奇队长》</p>
</li>
<li><p>《复联四》</p>
</li>
</ul>
<hr>
<ul>
<li><p>《蜘蛛侠：英雄远征》</p>
</li>
<li><p>《惊天魔盗团》</p>
</li>
<li><p>《惊天魔盗团2》</p>
</li>
<li><p>《使徒行者》</p>
</li>
<li><p>《风语咒》</p>
</li>
<li><p>《银河补习班》</p>
</li>
<li><p>《阿飞正装》</p>
</li>
<li><p>《攀登者》</p>
</li>
<li><p>《流浪地球》</p>
</li>
<li><p>《百鸟朝凤》</p>
</li>
<li><p>《遇见你真好》</p>
</li>
<li><p>《犯罪现场》</p>
</li>
<li><p>《碟中谍6》</p>
</li>
<li><p>《中国机长》</p>
</li>
<li><p>《驯龙高手》</p>
</li>
<li><p>《哪吒》</p>
</li>
<li><p>还有一些似乎想不去来了</p>
</li>
</ul>
<h4 id="游戏"><a href="#游戏" class="headerlink" title="游戏"></a>游戏</h4><p>&emsp;&emsp;11月因为手里有闲钱，然后又没人管着自己就放纵了一波，买了台switch，双十二的时候趁着打折，又入手了一款xbox one 手柄，周末在家的时候在家玩玩。</p>
<ul>
<li>《宝可梦剑盾·剑》(已通关)</li>
<li>《塞尔达传说：荒野之息》(未通关，感觉自己能玩一年)</li>
<li>《GTA5》(已购买，尚未入手)</li>
<li>《文明6》(同上）</li>
<li>《LOL》(肝玩这波活动后，可能会弃坑或者转区)</li>
<li>《古剑奇谭三》(弃坑)</li>
</ul>
<h4 id="学习"><a href="#学习" class="headerlink" title="学习"></a>学习</h4><p>&emsp;&emsp;技术上，公司安排系统学习websocket与protobuf，但是最近自己似乎学习效率很低，有点学不进去的感觉，可能由于我喜欢在项目中学习的原因，希望后面能够做下调整。</p>
<p>&emsp;&emsp;其他方面，我12月的考试没有回去参加，因为预感到自己会考不过，我还有两次机会，希望明年自己能提高英语水平。</p>
<h4 id="工作"><a href="#工作" class="headerlink" title="工作"></a>工作</h4><p>&emsp;&emsp;目前工作还算稳定，生活比较惬意，但是自己明显感觉自己积极性变低，可能是与最近发的事情有关，也可能是因为其他，总之后面调整好即可。希望明年的技术能独挡一面，成为自己及公司希望我成为的人。</p>
<h4 id="感情"><a href="#感情" class="headerlink" title="感情"></a>感情</h4><p>&emsp;&emsp;现在的想法是先立业，再成家，感情于我已不是必需品，虽会时不时想她，但我不会去打扰她，一切随缘，努力提高自己即可。我试着问过自己一个问题，如果自己是个女的，愿意与现在的自己谈恋爱吗，我得到的是否定答案，所以当这个答案变为肯定再去考虑感情的事情吧。而且在经历了父母离婚，外加上老爸的第二次离婚后，我对结婚感到害怕。最后说一句，单身的快乐你想象不到😌😌。</p>
<h4 id="遗憾"><a href="#遗憾" class="headerlink" title="遗憾"></a>遗憾</h4><p>&emsp;&emsp;总的来说，今年的我，我还是比较满意，如果说有遗憾的话，那就是对她吧。年初所说今年存上一笔钱，因为自己辗转各地，计划落空，此事留到明年。</p>
<h3 id="2020年规划"><a href="#2020年规划" class="headerlink" title="2020年规划"></a>2020年规划</h3><p>&emsp;&emsp;目前的我工作稳定，收入尚可，所以2020年在这方面没有需求，当然能进一步更好，所以希望自己能在性格上做出改变。</p>
<ul>
<li><input disabled="" type="checkbox"> 不再爱秀爱炫耀</li>
<li><input disabled="" type="checkbox"> 不再攀比</li>
<li><input disabled="" type="checkbox"> 不再傲慢、骄傲、急躁</li>
<li><input disabled="" type="checkbox"> 多一点耐心</li>
<li><input disabled="" type="checkbox"> 存一笔钱</li>
<li><input disabled="" type="checkbox"> 独自完成一次旅游(国外最好)</li>
<li><input disabled="" type="checkbox"> 英语过级，拿到毕业证</li>
<li><input disabled="" type="checkbox"> 每周做适量运动，想去跑马拉松(不行就买个健身环玩玩😉😉)</li>
<li><input disabled="" type="checkbox"> 不能再多了，在写就做不完了</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://hexo.inkdp.cn/2019.html" data-id="ckjtnpjmk002k09l9ao638ub4" data-title="2019年个人总结" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/about-me/" rel="tag">关于我</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/summary/" rel="tag">总结</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/essay/" rel="tag">随笔</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-posts-201912-散文集《我在人间凑数的日子》" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/articles/2019/12/17/1576553542302.html" class="article-date">
  <time class="dt-published" datetime="2019-12-17T03:32:22.000Z" itemprop="datePublished">2019-12-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/reading/">阅读</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/articles/2019/12/17/1576553542302.html">散文集《我在人间凑数的日子》</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="声明"><a href="#声明" class="headerlink" title="声明"></a>声明</h3><ul>
<li>以下内容皆节选自散文集–《我在人间凑数的日子》</li>
<li>作者：全体皮皮虾APP网友</li>
<li>如有侵权，联系删除</li>
</ul>
<h3 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h3><ul>
<li>关于你，时间会证明我曾经的付出，是多么可笑</li>
<li>小时候真傻，老是，盼着长大</li>
<li>我对世间唯一不满的是，它总是让更懂事的人，承受更多</li>
<li>溢出来的爱，就像水一样廉价</li>
<li>花言巧语是猎物，支支吾吾是喜欢</li>
<li>算命先生说，我是一只苍鹰，前途无量，后来才发现我听错了，算命先生说的是苍蝇</li>
<li>我善良一生，从未做过任何坏事，可人间疾苦一样没有放过我</li>
<li>世人慌慌张张，不过是图碎银几两</li>
<li>我遗憾的是，从未拥有过一个女孩的青春</li>
<li>寂寞如你我，一阵哆嗦后还是路人</li>
<li>咸鱼翻身还是咸鱼，蚂蚁再强，也只是蚂蚁</li>
<li>光阴惨淡淡，人无再少年</li>
<li>你和她约定共度年华，可偏偏你却一人白了头发</li>
<li>所有能够言语之苦，终究可以缓缓消除</li>
<li>读书时偷的懒， 要用一辈子来还</li>
<li>等你音信全无，我再去爱这世间万物</li>
<li>身上的伤是勋章，心上的伤是成长</li>
<li>鱼和熊掌不可兼得，唯独穷和单身可以</li>
<li>爷爷没有数个战火，父亲没有输给贫穷，我却输给了和平年代的生活与爱情，以及太过自由</li>
<li>我不记得小时候的梦想了，但绝对不是买一套房子</li>
<li>感觉什么都不缺，却又好像什么都没有</li>
<li>自己卫视的深情，一厢情愿的热情</li>
<li>老说找不到理想的另一半，问问自己，成为理想中的自己了吗</li>
<li>世界很美好，能让两个毫无关系的人走到一起，世界也很残酷，硬生生让两个相爱额人再没有未来</li>
<li>活着，就是一个接着一个的妥协</li>
<li>嫉妒使我面目全非，暗恋让我卑微入骨</li>
<li>自幼以为会有一番作为，衣锦还乡，现在想想，只希望父母在家安好</li>
<li>有些事只适合烂在心里，无声无息的忘记</li>
<li>我到底经历了什么，才能收起暴躁的脾气和骄傲</li>
<li>逢人不必言深，孤独本是常态</li>
<li>我不求名不求利，只希望在这个物欲横流的世界，太阳能晒黑我母亲的头发</li>
<li>磨灭你性格的不是现实，让你妥协的也不是生活，归根结底是，懒</li>
<li>如果快乐太难，那就，祝你一生平安</li>
<li>街头的狗，午时最凶，我有幸跟他们抢过食</li>
<li>如果没有这段话，你都不会知道，这人间我来过</li>
<li>小时候觉得世间的东西都很美好，后来长大了，发现很多东西都归财神爷掌管</li>
<li>我知道， 我一生终究会有人爱我的，但我好像失去了爱一个人的能力</li>
<li>她说民谣太穷了，一听就是一根烟，一听就是一瓶酒</li>
<li>那天风很大，她的笑很美，我想我一辈子都不会忘怀吧</li>
<li>多年以后才发现，这么些年，一直在帮助别人养媳妇儿</li>
<li>到底是过了一年，还是过了365个一天？</li>
<li>故事不长，也不难讲，相识一场，爱而不得</li>
<li>你说我不求上进，可你，没看到我低三下四的样子</li>
<li>上天还是善良的，他也是善良的，只是要了我半条命</li>
<li>我每天都在笑，你猜我过得好不好</li>
<li>你所在的城市下雨了，很想问你，有没有带伞</li>
<li>到了小时候羡慕的年纪，却没有成为小时候，羡慕的人</li>
<li>比起失去你，我更害怕别人拥有你</li>
<li>他们都想把我推向深渊，只是他们不知道，我就来自那里</li>
<li>无需找什么理由，一无所有，就是拼的理由</li>
<li>错过了她，遇见谁都没有感觉</li>
<li>外面好冷，我想回家</li>
<li>明明是你先招惹的我，为什么最后放不下的，却是我</li>
<li>和好容易，如初难</li>
<li>我对你，始于脸红，终于眼红</li>
<li>失而复得，就是重蹈覆辙</li>
<li>骨气不等于尊严，不能为了尊严，连你都不要了</li>
<li>心若没有栖息的地方，到哪里都是流浪</li>
<li>他们说海最干净透明，我想那是他们没见过你的眼睛</li>
<li>最怕一生碌碌无为，却还说着，平凡可贵</li>
<li>生活不止眼前的苟且，还有前任的喜帖</li>
<li>来到你喜欢的花店，花店的还在开，我，还在继续爱</li>
<li>就在刚刚，我对我的影子说了声，辛苦了，对不起</li>
<li>后来我们都走出了这段感情，你靠的是新欢，我靠的是时间</li>
<li>终于长到能与父亲碰杯的年纪，却没能成为他的骄傲</li>
<li>后来才发现，那并不是属于我的花，我只是途径她的绽放</li>
<li>曾经以为贫穷是指饥饿，衣不附体，现在才懂得，它是孤独与无人问津</li>
<li>散伙是人间常态，我们又不是什么例外</li>
<li>一直想做一个特别的人，现在我做到了，我特别的无助，特别的难过</li>
<li>有时候也挺佩服自己，能咽下一肚子的话语心酸</li>
<li>条条大路通罗马，可有的人就出生在罗马</li>
<li>曾经有一个女孩追我，被我拒绝了，我没房没车，她不懂事，但我得懂</li>
<li>所谓眉间的故事，不是喜欢就是辜负</li>
<li>后来我发现这世界真的很大，没有刻意见面，这辈子可能就再也见不到了</li>
<li>成熟，就是看以前的自己像个笨蛋</li>
<li>自你走后，好像不开心了很多年，原来不开心也可以成为习惯</li>
<li>回了趟故乡，故乡的气候一直没变，只是我却像个旅人</li>
<li>请不要用那微不足道的成绩，来对我指指点点，因为我不配</li>
<li>生活真的挺好的，每天都有不同的难过</li>
<li>可惜我相貌平平、一事无成，惊艳不了谁的岁月，温暖不了谁的人生</li>
<li>一个人就已经伤痕累累了，就别再来一人痛不欲生了</li>
<li>最后你会慢慢懂得，你只是她感情空虚时的替代品，偶尔会表现的特别爱你</li>
<li>我曾想一世荣华，最后却四海为家</li>
<li>那夜我喝醉了，突然发现，你比花生还下酒</li>
<li>做人不要低声下气，因为你父亲，曾把你高高举起</li>
<li>我寻思着理想这东西没啥用，所以一个月两千就卖给了生活</li>
<li>这个世界是公平的，就像我，虽然挣得少， 但是我干的多啊</li>
<li>早知道现在的生活是这个样子，20年前那场游泳比赛，就不该拿第一</li>
<li>时常有人羡慕我这样的自由，我笑着笑着便哭了</li>
<li>我们来一次世上不容易，所以她说，她想过的好一点</li>
<li>我也有诗和远方，可是我的诗很烂，远方很暗</li>
<li>生活，就是生下来，活下去</li>
<li>我有喜欢的人了，可是无人作证，又无人知晓</li>
<li>年轻不懂得爱情与友情，长大后才懂得爱情是那么不容易，尤其是那么的脆弱</li>
<li>生活从来都是这样，不把我放在眼里</li>
<li>你羡慕的生活背后，都是你熬不起的苦</li>
<li>自己都是满身灰暗，还总是想给别人一些光</li>
<li>不要假装努力，因为结果不会陪你演戏，行动在于自己，未来依旧可期</li>
<li>微笑并不代表快乐，那只是一种表情</li>
<li> 你试图以离开引起别人的注意，却不知道你是真的离开了，并没有任何人记住你</li>
<li>小时候总觉得要做什么样的人，绝不能像某些人一样，长大后，却成了当初最讨厌的人</li>
<li>大事办不了，小事不爱办</li>
<li>很多道理我都懂，结果我能想到也只能接受，但是，我就是难受</li>
<li>好看的皮囊你玩不起，有趣的灵魂看不上你</li>
<li>遗憾的是，到最后我们连一张合影都没有</li>
<li>我讨厌无边的猜忌与怀疑，觉得人与人之间要多一点信任，直到有一天，我把它们当成了兴趣</li>
<li>她向你倾诉着寂寞，你却以为那是爱情</li>
<li>未完待续</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://hexo.inkdp.cn/articles/2019/12/17/1576553542302.html" data-id="ckjtnpjml002p09l9etab2k5i" data-title="散文集《我在人间凑数的日子》" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/study-notes/" rel="tag">读书笔记</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/essay/" rel="tag">随笔</a></li></ul>

    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/2/">下一页 &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/skill/">技术</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/skill/front-end/">前端</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/skill/back-end/">后端</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/skill/algorithm/">算法</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/pitDiary/">踩坑日记</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/reading/">阅读</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/essays/">随笔</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/essays/summary/">总结</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/essays/emotional/">情感</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/interview/">面试</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/" rel="tag">CSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Docker/" rel="tag">Docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Golang/" rel="tag">Golang</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML/" rel="tag">HTML</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JS/" rel="tag">JS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/" rel="tag">MySQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nexmoe/" rel="tag">Nexmoe</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Solo/" rel="tag">Solo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TGIF/" rel="tag">TGIF</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/" rel="tag">docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/leetcode/" rel="tag">leetcode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shell/" rel="tag">shell</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/solo-nexmoe/" rel="tag">solo-nexmoe</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/about-me/" rel="tag">关于我</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/learn/" rel="tag">学习</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/summary/" rel="tag">总结</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tutorials/" rel="tag">教程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/diary/" rel="tag">日记</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/skin/" rel="tag">皮肤</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/crack/" rel="tag">破解</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/algorithm/" rel="tag">算法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/study-notes/" rel="tag">读书笔记</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/essay/" rel="tag">随笔</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/interview/" rel="tag">面试</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/CSS/" style="font-size: 10px;">CSS</a> <a href="/tags/Docker/" style="font-size: 10px;">Docker</a> <a href="/tags/Golang/" style="font-size: 20px;">Golang</a> <a href="/tags/HTML/" style="font-size: 10px;">HTML</a> <a href="/tags/JS/" style="font-size: 10px;">JS</a> <a href="/tags/MySQL/" style="font-size: 13.33px;">MySQL</a> <a href="/tags/Nexmoe/" style="font-size: 10px;">Nexmoe</a> <a href="/tags/Solo/" style="font-size: 13.33px;">Solo</a> <a href="/tags/TGIF/" style="font-size: 10px;">TGIF</a> <a href="/tags/docker/" style="font-size: 11.11px;">docker</a> <a href="/tags/leetcode/" style="font-size: 16.67px;">leetcode</a> <a href="/tags/shell/" style="font-size: 10px;">shell</a> <a href="/tags/solo-nexmoe/" style="font-size: 10px;">solo-nexmoe</a> <a href="/tags/about-me/" style="font-size: 14.44px;">关于我</a> <a href="/tags/learn/" style="font-size: 15.56px;">学习</a> <a href="/tags/summary/" style="font-size: 15.56px;">总结</a> <a href="/tags/tutorials/" style="font-size: 12.22px;">教程</a> <a href="/tags/diary/" style="font-size: 10px;">日记</a> <a href="/tags/skin/" style="font-size: 10px;">皮肤</a> <a href="/tags/crack/" style="font-size: 10px;">破解</a> <a href="/tags/algorithm/" style="font-size: 17.78px;">算法</a> <a href="/tags/study-notes/" style="font-size: 17.78px;">读书笔记</a> <a href="/tags/essay/" style="font-size: 18.89px;">随笔</a> <a href="/tags/interview/" style="font-size: 10px;">面试</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">一月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">十二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">十月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">七月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">六月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">五月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">十二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">十一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">十月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">九月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">八月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">七月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">六月 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/reading/38859.html">如何读一本书</a>
          </li>
        
          <li>
            <a href="/2020.html">2020年个人总结</a>
          </li>
        
          <li>
            <a href="/leetcode_array1.html">leetcode-数组系列1</a>
          </li>
        
          <li>
            <a href="/articles/2020/10/21/1603213579436.html">MySQL分页查询优化</a>
          </li>
        
          <li>
            <a href="/articles/2020/07/09/1594287406684.html">Go爬虫初体验</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 InkDP<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>